
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Logstash 调研</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=2.0">
<link rel="stylesheet", href="/css/style.css">
<link rel="shortcut icon", href="/assets/favicon.ico">
<link rel="apple-touch-icon", sizes="128x128", href="/assets/tree-128x128.png">

        
    
        <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    
    <link rel='stylesheet' href="/./css/codestyle.css">

    <meta name="generator" content="Hexo 5.2.0"></head>
    <body>
        <header class="al_header al_pos_fixed">
    <div class="al_header_container dis_flex_jcenter">
        <div class="al_header_container_left">
            <div class="al_header_site_title">
                <a href="/">Dustin's blog</a>
            </div>
        </div>

        <div class="dis_flex_jcenter">
            <div class="al_header_nav_bar">
            <div class="al_header_menu">
                <a class="al_header_menu_item" href="/">首页</a>
            </div>
            <div class="al_header_menu">
                <a class="al_header_menu_item" href="/archives">归档</a>
            </div>
            <div class="al_header_menu">
                <a class="al_header_menu_item" href="https://timegarage.github.io/Just-CSS-it/">CSS</a>
            </div>
            <div class="al_header_menu">
                <a class="al_header_menu_item" href="https://timegarage.github.io/WebInterview/">面经</a>
            </div>
            <div class="al_header_menu">
                <a class="al_header_menu_item" target="_blank" rel="noopener" href="https://500px.com.cn/dustinpeng">摄影</a>
            </div>
            <div class="al_header_menu">
                <a class="al_header_menu_item" target="_blank" rel="noopener" href="https://www.linkedin.com/in/dustinpeng/">简历</a>
            </div>
            </div>
            <div class="al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-menu"></use>
                </svg>
            </div>
        </div>
    </div>
</header>

        <div class="al_sidebar">

    <div class="al_sidebar_overlay al_full_cover"></div>

    <div class="al_pos_fixed al_sidebar_cnt">
        <div class="dis_flex_acenter al_sidebar_header">
            <h3>Dustin's blog</h3>
            <div class="al_sidebar_close al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-close"></use>
                </svg>
            </div>
        </div>

        <div class="al_sidebar_author_cnt">

            <div class="al_sidebar_author_info">
                <h4>自我介绍</h4>
                <p>你好，我是彭俊，一名热爱数据分析与软件开发的学生，致力于运用科学技术提升人们的生活体验。</p>
                <p>我是北京大学计算机专业的硕士研究生，目前在腾讯公司作为前端开发实习生参与暑期实习。</p>
                <p>在闲暇时光，我喜欢带着相机去旅行，走过大街小巷，感受生活的气息。</p>
                <p>如果你想和我讨论软件开发或是摄影方面的问题，欢迎随时与我联系。</p>
            </div>

            
                <div class="al_sidebar_contact_info">
                    <h4>联系方式</h4>
                    <p>电子邮箱: 82610725@163.com</p>
                    <p>微信: TimeGarage</p>

                    <div class="dis_flex al_sidebar_social_widget">
                        
                        
                            <div class="al_social_icon_cnt" data_link="https://www.github.com/TimeGarage">
                                <svg class="al_social_icon" id="github">
                                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#icon_github"></use>
                                </svg>
                            </div>
                        
                    </div>
                </div>
            
        </div>
    </div>
</div>

        
    <div class="dis_flex_center al_lightbox_cnt al_full_cover">
        <img class="al_lightbox_img"/>
    </div>
    <div class="al_page_background dis_flex_center al_full_cover"></div>
    <div class="al_page_container">
        <div class="al_pos_ab al_fake_background"></div>
        <div class="al_main_container al_shadow al_main_page_container">
            <article class="al_article">
                <header>
                    <h1 class="al_page_title">
                        Logstash 调研
                    </h1>
                    <div class="al_page_info dis_flex">
                        <div class="al_page_content_info">
                            2020年07月13日
                        </div>

                        
                            <div class="al_page_content_info">
                                全文共577字
                            </div>
                        
                        <span class="tags"></span>
                    </div>
                </header>

                
                    <div class="al_page_content_outline">
                        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-text">工作流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E7%BB%84%E4%BB%B6"><span class="toc-text">关键组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Grok"><span class="toc-text">Grok</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filebeat"><span class="toc-text">Filebeat</span></a></li></ol>
                    </div>
                

                
                <section id="post-body">
                    <p>最近在网络流量分析项目中需要对日志进行收集和处理，而网络上关于 Logstash 的资料都比较分散，因此本文对 Logstash 的架构与用法进行了简单地梳理，帮助初学者快速入门。</p>
<a id="more"></a>


<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Logstash 是开源的服务器端数据处理管道，能够同时从多个来源采集数据，处理数据和转发数据。</p>
<h2 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h2><p>数据输入 &gt; 数据过滤 &gt; 数据输出</p>
<h2 id="关键组件"><a href="#关键组件" class="headerlink" title="关键组件"></a>关键组件</h2><p>Logstash 使用 input，filter，output 三个组件分别完成数据采集、处理和转发的工作。</p>
<p><b>input 组件负责采集数据各种格式、大小和来源的数据。</b>input 组件能够以连续流式传输的方式，轻松地从日志、指标、Web 应用、数据存储以及各种 AWS 服务采集数据。</p>
<p><b>filter 插件负责动态地转换和解析数据，不受格式或复杂度的影响。</b>Grok 插件可以帮助开发者方便地从非结构化数据中解析出结构化数据。</p>
<p><b>output 插件负责转发 filter 处理过的数据到指定的数据库中。</b>Logstash 提供了众多的输出选择，开发者可以将数据发送到指定的地方。例如，可以用 elasticsearch 插件输出到 es ，rediss 插件输出到 redis，stdout 插件标准输出，kafka 插件输出到 kafka 等。</p>
<p>此外，Logstash 具有高度的可扩展性，开发者可以根据自身需要定制插件。</p>
<h2 id="Grok"><a href="#Grok" class="headerlink" title="Grok"></a>Grok</h2><p>Grok 是 Logstash 最重要的插件之一，使用正则表达式对数据完成过滤和解析工作。</p>
<p>参考资料：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34021712/article/details/79746413">Logstash Grok 插件语法介绍 </a></p>
<h2 id="Filebeat"><a href="#Filebeat" class="headerlink" title="Filebeat"></a>Filebeat</h2><p>Filebeat 是用来替代 Logstash Forwarder 的下一代 Logstash 收集器，与 Logstash 相比更加轻量和高效，它可以很方便地与 Logstash 或 Elasticsearch 进行对接。</p>
<p><b>Filebeat 与 Logstash 的联系与区别：</b></p>
<p><b > 联系：</b>Filebeat 和 Logstash 都具有日志收集的功能</p>
<p><b > 区别：</b>Filebeat 更轻量，占用资源较 Logstash 更少。Logstash 具备过滤和处理数据的功能，但 Filebeat 只能采集日志。</p>
<p>在实际使用中，通常使用 Filebeat 作为数据收集的工具，接着使用 Redis/ Kafka / RabbitMQ 等缓存数据，最后将数据输出到 Logstash 完成数据聚合、处理的工作。</p>

                </section>
                
                
    <div id="al_gitalk_cnt">
    <script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <script>
        var gitalk = new Gitalk({
            clientID: "447058976c8bd4fe04f6",
            clientSecret: "338d276a77fb63da17761fc5f39458092c228396",
            repo: "Gitalk",
            owner: "TimeGarage",
            admin: "TimeGarage",
            id: "Logstash 调研",
        });
        gitalk.render("al_gitalk_cnt")
    </script>
                

            
            <nav class="dis_flex al_post_nav">
                <a class="al_post_nav_item dis_flex_acenter" href="/2020/09/11/React%E7%9A%84%E8%AE%BE%E8%AE%A1%E5%93%B2%E5%AD%A6/">
                    
                        <svg class="al_arrow">
                            <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-arrow-left"></use>
                        </svg>
                        <span class="al_text_ellipsis al_post_nav_desc">React 的设计哲学 </span>
                    
                </a>
                <a class="al_post_nav_item dis_flex_acenter" href="/">
                    
                </a>
            </nav>
            </article>
        </div>
    </div>


        <div class="al_index_footer dis_flex_center">
    <div class="al_index_footer_item al_index_footer_title">
        Dustin
    </div>

    
    

    <div class="al_index_footer_item al_index_footer_extra_right">
        Copyright © 2021
    </div>
</div>

        <script type="text/javascript" async="async" src="/javascripts/acelog.js"></script>
        
    <script src="//hm.baidu.com/hm.js?59a58849119e55e53bb312970497c6a0"></script>

        
    </body>
</html>
        